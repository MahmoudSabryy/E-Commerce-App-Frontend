@if (productDetails) {

<section class="product-details container my-5">
  <h2 class="text-center fw-bold mb-5">Product Details</h2>

  @for (product of productDetails; track product._id) {

  <div class="row g-5">
    <!-- LEFT : Images -->
    <div class="col-md-5">
      <!-- Main Slider -->
      <div class="product-gallery shadow-sm mb-3">
        <owl-carousel-o [options]="customOptions">
          <ng-container *ngFor="let img of product.images">
            <ng-template carouselSlide>
              <img
                class="main-img"
                [src]="`${baseURI}/uploads/images/${img}`"
                [alt]="product.productName"
              />
            </ng-template>
          </ng-container>
        </owl-carousel-o>
      </div>

      <!-- Thumbnails -->
      <div class="d-flex gap-2 thumbnails">
        <img *ngFor="let img of product.images" [src]="`${baseURI}/uploads/images/${img}`" />
      </div>
    </div>

    <!-- RIGHT : Info -->
    <div class="col-md-7">
      <span class="category">{{ product.category.name }}</span>

      <h1 class="product-title">{{ product.productName }}</h1>

      <!-- Rating -->
      <div class="rating mb-2">
        ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ
        <span class="text-muted">(120 reviews)</span>
      </div>

      <p class="product-desc">{{ product.productDesc }}</p>

      <!-- Price -->
      <div class="price-wrapper">
        <span class="current-price"> {{ product.price - product.discountPrice }} EGP </span>
        <span class="old-price">{{ product.price }} EGP</span>
        <span class="discount">
          {{ (((product.price - product.discountPrice) / product.price) * 100).toFixed(0) }}% OFF
        </span>
      </div>

      <!-- Stock -->
      <div class="stock" *ngIf="product.stock <= 5 && product.stock !== 0">
        {{ product.stock }} items left
      </div>

      <div class="stock out" *ngIf="product.stock === 0">Out of stock</div>

      <!-- Button -->
      <button
        class="add-to-cart-btn mt-4"
        [disabled]="product.stock === 0"
        (click)="addToCart(product._id)"
      >
        Add to Cart
      </button>
    </div>
  </div>

  <!-- Reviews -->
  <div class="reviews mt-5">
    <h3 class="fw-bold mb-3">Customer Reviews</h3>

    <div class="review-card">
      <strong>Ahmed</strong>
      <p>Excellent quality and fast delivery.</p>
    </div>

    <div class="review-card">
      <strong>Sara</strong>
      <p>Very good product, recommended üëç</p>
    </div>
  </div>

  }
</section>

}
